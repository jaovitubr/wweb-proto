syntax = "proto3";

message ChatRowOpaqueData {
	DraftMessage draftMessage = 1;

	message DraftMessage {
		string text = 1;
		string omittedUrl = 2;
		CtwaContextLinkData ctwaContextLinkData = 3;
		CtwaContextData ctwaContext = 4;
		int64 timestamp = 5;
	
		message CtwaContextData {
			string conversionSource = 1;
			bytes conversionData = 2;
			string sourceUrl = 3;
			string sourceId = 4;
			string sourceType = 5;
			string title = 6;
			string description = 7;
			string thumbnail = 8;
			string thumbnailUrl = 9;
			ContextInfoExternalAdReplyInfoMediaType mediaType = 10;
			string mediaUrl = 11;
			bool isSuspiciousLink = 12;
		
			enum ContextInfoExternalAdReplyInfoMediaType {
				NONE = 0;
				IMAGE = 1;
				VIDEO = 2;
			}
		}
	
		message CtwaContextLinkData {
			string context = 1;
			string sourceUrl = 2;
			string icebreaker = 3;
			string phone = 4;
		}
	}
}